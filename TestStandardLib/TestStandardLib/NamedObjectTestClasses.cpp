#include "StandardLib/ObjectSerialiser.h"
#include "StandardLib/ObjectDeserialiser.h"
#include "NamedObjectTestClasses.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CTestNamedObject> CTestNamedObject::Init(int iNum)
{
	miNum = iNum;

	CObject::Init();
	return this;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestNamedObject::Class(void)
{
	CObject::Class();
	Pointer(mpNamedTest1.This());
	Pointer(mpNamedTest2.This());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestNamedObject::KillData(void)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CTestNamedObject::Save(CObjectSerialiser* pcFile)
{
	ReturnOnFalse(pcFile->WritePointer(mpNamedTest1));
	ReturnOnFalse(pcFile->WritePointer(mpNamedTest2));
	ReturnOnFalse(pcFile->WriteInt(miNum));
	return TRUE;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
BOOL CTestNamedObject::Load(CObjectDeserialiser* pcFile)
{
	ReturnOnFalse(pcFile->ReadPointer(mpNamedTest1.This()));
	ReturnOnFalse(pcFile->ReadPointer(mpNamedTest2.This()));
	ReturnOnFalse(pcFile->ReadInt(&miNum));
	return TRUE;
}

