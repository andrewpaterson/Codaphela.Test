#include "StandardLib/ObjectWriter.h"
#include "StandardLib/ObjectReader.h"
#include "StandardLib/ClassDefines.h"
#include "CollectionObjectTestClasses.h"


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestArrayObject::Init(int i)
{
	PreInit();
	mi = i;
	maChildren.Init();
	PostInit();
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestArrayObject::Class(void)
{
	M_Embedded(maChildren);
	U_Int32(mi);
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestArrayObject::Free(void)
{
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CTestArrayObject::Save(CObjectWriter* pcFile)
{
	ReturnOnFalse(pcFile->WriteInt32(mi));
	return true;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
bool CTestArrayObject::Load(CObjectReader* pcFile)
{
	ReturnOnFalse(pcFile->ReadInt32(&mi));
	return true;
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void CTestArrayObject::AllocateTest(void)
{
	maChildren.Add(OMalloc<CTestObject>());
}


//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
Ptr<CTestObject>CTestArrayObject::Get(size uiIndex)
{
	return maChildren.Get(uiIndex);
}

